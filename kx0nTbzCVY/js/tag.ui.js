window.SLB&&SLB.has_child("View.extend_template_tag_handler")&&SLB.View.extend_template_tag_handler("ui",{_hooks:function(){this.on("dom_init",(function(e){this.call_attribute("events_init",e)}))},events_init:function(e){var t=e.data.template.get_theme().get_viewer(),n=t.get_theme();t.on("events-complete",(function(e,t){n.dom_get_tag("ui","close").click((function(){return t.close()})),n.dom_get_tag("ui","nav_next").click((function(){t.item_next()})),n.dom_get_tag("ui","nav_prev").click((function(){t.item_prev()})),n.dom_get_tag("ui","slideshow_control").click((function(){t.slideshow_toggle()}))})),t.on("slideshow-toggle",(function(e,t){var i=n.get_tags("ui","slideshow_control");if(i.length)for(var o=0;o<i.length;o++)i[o].render(t.get_item()).done((function(e){e.tag.dom_get().html(e.output)}))}))},render:function(e,t,n){var i=this.handle_prop(t.get_prop(),e,t);return this.util.is_promise(i)?i.done((function(e){n.resolve(e)})):n.resolve(i),n.promise()},props:{slideshow_control:function(e){var t=e.get_viewer(),n=t.slideshow_active()?"slideshow_stop":"slideshow_start";return t.get_label(n)},group_status:function(e){if(e.get_group().is_single())return"";var t,n,i=e.get_viewer().get_label("group_status"),o={current:function(){return e.get_group(!0).get_pos()+1},total:function(){return e.get_group().get_size()}};for(t in o)n="%"+t+"%",-1!==i.indexOf(n)&&(i=i.replace(new RegExp(n,"ig"),o[t]()));return i}}});